{"nodes":[{"id":0,"name":"clearovm","type":"VMHost","model":{"disk":"20","cpu":"4","ram":"4096"}},{"id":1,"name":"webdk","type":"DockerContainer","model":{"volumes":[{}],"DockerContainerPorts":[{"container":80,"host":80},{"container":443,"host":443}],"logtype":"apache","image":"cloudopting/centosbase:6.6","cmd":"[ \"-D\", \"FOREGROUND\" ]","entrypoint":"[ \"/usr/sbin/httpd\" ]"}},{"id":2,"name":"tomcatdk","type":"DockerContainer","model":{"DockerContainerPorts":[{"container":8080,"host":8081}],"image":"cloudopting/centosbase:6.6","logtype":"tomcat","cmd":"/opt/liferay/tomcat7/bin/startup.sh && tail -F /opt/liferay/tomcat7/logs/catalina.out","volumes":[]}},{"id":3,"name":"dbdk","type":"DockerContainer","model":{"volumes":[{}],"DockerContainerPorts":[{}],"image":"cloudopting/centosbase:6.6","cmd":"/etc/init.d/postgresql-9.3 start && tail -F /var/lib/pgsql/9.3/pgstartup.log","logtype":"postgresql"}},{"id":4,"name":"apache","type":"Apache","model":{"default_mods":true,"default_vhost":false,"portsExpose":[{"port":80}],"log_formats":"{ vhost_common => '%v %h %l %u %t \\\"%r\\\" %>s %b' }","servername":"fqdn"}},{"id":5,"name":"ajp","type":"ApacheModule","model":{"module":"proxy_ajp"}},{"id":6,"name":"site","type":"ApacheVirtualHost","model":{"vhost_name":"*","default_vhost":false,"ssl":false,"servername":"%%USERINPUT%%","port":80,"options":"['Indexes','FollowSymLinks','MultiViews']","docroot":"/var/www/site","proxy_preserve_host":true,"directories":"[ { path => '/var/www/site', addhandlers => [{ handler => 'cgi-script', extensions => ['.cgi']}], }, ]","proxy_pass":"[ { 'path' => '/', 'url' => 'ajp://tomcatdk:8009/' }, ]"}},{"id":7,"name":"as","type":"Tomcat","model":{"install_from_source":true,"portsExpose":[{"port":8009},{"port":8080}],"catalina_base":"/opt/liferay/tomcat7","catalina_home":"/opt/liferay","source_url":"https://archive.apache.org/dist/tomcat/tomcat-7/v7.0.67/bin/apache-tomcat-7.0.67.tar.gz","tomcat":"tomcat7"}},{"id":8,"name":"portal","type":"Liferay","model":{"catalina_base":"/opt/liferay/tomcat7","catalina_home":"/opt/liferay","dbhost":"dbdk","dbuser":"clearoadmin","dbname":"clearodb","dbpass":"%%USERINPUT%%","wizard":false,"admin_user_first":"Luca","admin_password":"%%USERINPUT%%","admin_mail":"gioppo@csi.it","admin_user_last":"Gioppo"}},{"id":9,"name":"dbeng","type":"PostgreSQL","model":{"portsExpose":[{"port":5432}],"version":"9.3","ip_mask_allow_all_users":"0.0.0.0/0","listen_addresses":"*","postgres_password":"%%USERINPUT%%"}},{"id":10,"name":"db","type":"PostgreSQLDatabase","model":{"dbname":"clearodb","user":"clearoadmin","password":"%%USERINPUT%%"}},{"id":11,"name":"proxy","type":"ApacheModule","model":{"module":"proxy"}}],"edges":[{"id":"e0","source":0,"target":1,"type":"hostedOn"},{"id":"e1","source":0,"target":2,"type":"hostedOn"},{"id":"e2","source":0,"target":3,"type":"hostedOn"},{"id":"e3","source":1,"target":4,"type":"hostedOn"},{"id":"e4","source":4,"target":5,"type":"hostedOn"},{"id":"e5","source":4,"target":6,"type":"hostedOn"},{"id":"e6","source":2,"target":7,"type":"hostedOn"},{"id":"e7","source":7,"target":8,"type":"hostedOn"},{"id":"e8","source":3,"target":9,"type":"hostedOn"},{"id":"e9","source":9,"target":10,"type":"hostedOn"},{"id":"e10","source":1,"target":2,"type":"containerLink"},{"id":"e11","source":2,"target":3,"type":"containerLink"},{"id":"e12","source":4,"target":11,"type":"hostedOn"}],"serviceName":"clearo"}